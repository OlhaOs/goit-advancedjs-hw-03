{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\naxios.defaults.headers.common['x-api-key'] =\n  'live_48axi5ap0mnf8pbuq3A2Wnqk4fdJxwpKcxjaPvMpfdw76beol8PrOua3fveDqqkt';\n\nconst BASE_URL = 'https://api.thecatapi.com/v1/';\nconst SEARCH_BY_ID = 'images/search?breed_ids=';\n\nexport function fetchBreeds() {\n  return axios.get(`${BASE_URL}breeds`);\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`${BASE_URL}${SEARCH_BY_ID}${breedId}`);\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SlimSelect from 'slim-select';\n\nconst refs = {\n  selectEl: document.querySelector('.breed-select'),\n  infoEl: document.querySelector('.cat-info'),\n  loaderEl: document.querySelector('.loader'),\n  errorEl: document.querySelector('.error'),\n  optionEl: document.querySelector('option[value = \"default\"]'),\n};\n\nhideLoader();\ngetBreeds();\n\nrefs.selectEl.addEventListener('change', handleSelect);\n\nfunction getBreeds() {\n  showLoader();\n  return fetchBreeds()\n    .then(breeds => {\n      refs.selectEl.insertAdjacentHTML(\n        'beforeend',\n        createSelectOptions(breeds.data)\n      );\n      prettySelect();\n    })\n    .catch(() => {\n      showErrorMessage();\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\nfunction getCatById(breedId) {\n  showLoader();\n  fetchCatByBreed(breedId)\n    .then(breeds => {\n      refs.infoEl.insertAdjacentHTML(\n        'afterbegin',\n        createMarkUpInfo(breeds.data)\n      );\n    })\n    .catch(() => {\n      showErrorMessage();\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\nfunction handleSelect(e) {\n  refs.infoEl.innerHTML = '';\n  getCatById(e.target.value);\n}\nfunction createSelectOptions(arr) {\n  return arr\n    .map(({ id, name }) => `<option value=${id}>${name}</option>`)\n    .join('');\n}\nfunction createMarkUpInfo(arr) {\n  return arr\n    .map(\n      ({\n        breeds: [{ name, description, temperament }],\n        url,\n      }) => `  <img src=\"${url}\" alt=\"${name}\" class=\"cat-image\">\n    <div class=\"cat-about\">\n  <h2>${name}</h2>\n  <p class=\"cat-description\">${description}</p>\n  <p class=\"cat-temperament\"><span class=\"temperament\">Temperament: </span>${temperament}</p>\n  </div>`\n    )\n    .join('');\n}\nfunction showLoader() {\n  refs.loaderEl.hidden = false;\n}\nfunction hideLoader() {\n  refs.loaderEl.hidden = true;\n}\nfunction showErrorMessage() {\n  iziToast.error({\n    title: 'Error',\n    message: 'Oops! Something went wrong! Try reloading the page!',\n    position: 'topCenter',\n  });\n}\nfunction prettySelect() {\n  new SlimSelect({\n    select: '.breed-select',\n    settings: {\n      placeholderText: 'Choose cat',\n    },\n  });\n}\n"],"names":["axios","BASE_URL","SEARCH_BY_ID","fetchBreeds","fetchCatByBreed","breedId","refs","hideLoader","getBreeds","handleSelect","showLoader","breeds","createSelectOptions","prettySelect","showErrorMessage","getCatById","createMarkUpInfo","e","arr","id","name","description","temperament","url","iziToast","SlimSelect"],"mappings":"owBACAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEF,MAAMC,EAAW,gCACXC,EAAe,2BAEd,SAASC,GAAc,CAC5B,OAAOH,EAAM,IAAI,GAAGC,SAAgB,CACtC,CAEO,SAASG,EAAgBC,EAAS,CACvC,OAAOL,EAAM,IAAI,GAAGC,IAAWC,IAAeG,GAAS,CACzD,CCRA,MAAMC,EAAO,CACX,SAAU,SAAS,cAAc,eAAe,EAChD,OAAQ,SAAS,cAAc,WAAW,EAC1C,SAAU,SAAS,cAAc,SAAS,EAC1C,QAAS,SAAS,cAAc,QAAQ,EACxC,SAAU,SAAS,cAAc,2BAA2B,CAC9D,EAEAC,IACAC,IAEAF,EAAK,SAAS,iBAAiB,SAAUG,CAAY,EAErD,SAASD,GAAY,CACnB,OAAAE,IACOP,EAAa,EACjB,KAAKQ,GAAU,CACdL,EAAK,SAAS,mBACZ,YACAM,EAAoBD,EAAO,IAAI,CACvC,EACME,GACN,CAAK,EACA,MAAM,IAAM,CACXC,GACN,CAAK,EACA,QAAQ,IAAM,CACbP,GACN,CAAK,CACL,CACA,SAASQ,EAAWV,EAAS,CAC3BK,IACAN,EAAgBC,CAAO,EACpB,KAAKM,GAAU,CACdL,EAAK,OAAO,mBACV,aACAU,EAAiBL,EAAO,IAAI,CACpC,CACA,CAAK,EACA,MAAM,IAAM,CACXG,GACN,CAAK,EACA,QAAQ,IAAM,CACbP,GACN,CAAK,CACL,CACA,SAASE,EAAaQ,EAAG,CACvBX,EAAK,OAAO,UAAY,GACxBS,EAAWE,EAAE,OAAO,KAAK,CAC3B,CACA,SAASL,EAAoBM,EAAK,CAChC,OAAOA,EACJ,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,KAAW,iBAAiBD,KAAMC,YAAe,EAC5D,KAAK,EAAE,CACZ,CACA,SAASJ,EAAiBE,EAAK,CAC7B,OAAOA,EACJ,IACC,CAAC,CACC,OAAQ,CAAC,CAAE,KAAAE,EAAM,YAAAC,EAAa,YAAAC,CAAW,CAAE,EAC3C,IAAAC,CACD,IAAK,eAAeA,WAAaH;AAAA;AAAA,QAEhCA;AAAA,+BACuBC;AAAA,6EAC8CC;AAAA,SAExE,EACA,KAAK,EAAE,CACZ,CACA,SAASZ,GAAa,CACpBJ,EAAK,SAAS,OAAS,EACzB,CACA,SAASC,GAAa,CACpBD,EAAK,SAAS,OAAS,EACzB,CACA,SAASQ,GAAmB,CAC1BU,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sDACT,SAAU,WACd,CAAG,CACH,CACA,SAASX,GAAe,CACtB,IAAIY,EAAW,CACb,OAAQ,gBACR,SAAU,CACR,gBAAiB,YAClB,CACL,CAAG,CACH"}